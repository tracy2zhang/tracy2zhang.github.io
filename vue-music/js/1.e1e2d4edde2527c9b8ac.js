webpackJsonp([1],{652:function(t,i,e){function a(t){e(701)}var n=e(6)(e(681),e(719),a,"data-v-77ad6140",null);t.exports=n.exports},654:function(t,i,e){"use strict";var a=e(25),n=e.n(a),s=e(54);i.a={computed:n()({},e.i(s.a)(["playlist"])),mounted:function(){this.handlePlaylist(this.playlist)},activated:function(){this.handlePlaylist(this.playlist)},watch:{playlist:function(){this.handlePlaylist(this.playlist)}},methods:{handlePlaylist:function(){throw new Error("Component must implements handlePlaylist method")}}}},655:function(t,i,e){t.exports=e.p+"img/default_disc.5ab5cb8.jpg"},656:function(t,i,e){"use strict";var a=e(1);e.n(a).a.register({"ellipsis-h":{width:1408,height:1792,paths:[{d:"M384 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM896 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM1408 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68z"}]}})},657:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(25),n=e.n(a),s=e(54),o=e(44),l=e(219),c=e.n(l),A=e(56),r=e.n(A),d=e(221),p=e.n(d),g=e(654),u=e(55),f=e(37),m=e(1),C=e.n(m),h=(e(660),e(220),e(662),e(661),e(656),e(655));i.default={name:"music-list",components:{Icon:C.a,SongList:c.a,Scroller:r.a,NoResult:p.a},mixins:[g.a],props:{bgImage:{type:String,default:""},songs:{type:Array,default:function(){return[]}},rank:{type:Boolean,default:!1},title:{type:String,default:""},collectable:{type:Boolean,default:!1},collected:{type:Boolean,default:!1},editable:{type:Boolean,default:!1}},created:function(){this.imageHeight=0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.$refs.scroller.$el.style.top=this.imageHeight+"px"},data:function(){return{scrollToTop:!1,scaling:!1,defaultBg:h}},computed:{bgStyle:function(){return{backgroundImage:"url("+(this.bgImage||(this.editable?this.defaultBg:""))+")"}},collectIcon:function(){return this.collected?"star":"star-o"}},methods:n()({},e.i(s.c)({addSong:o.g,randomPlay:o.l,selectAndPlay:o.k}),{back:function(){this.$router.back()},toggleCollect:function(){this.$emit("toggleCollect")},edit:function(){this.$emit("edit")},onScroll:function(t){var i=t.y,a=this.imageHeight-40,n=Math.abs(i/this.imageHeight);if(i<=0){this.scaling=!1;var s=0;-i>=a?(s=a,this.scrollToTop=!0):(this.scrollToTop=!1,s=i);var o=Math.min(20*n,20);e.i(f.d)(this.$refs.filter,"backdropFilter","blur("+o+"px)"),e.i(f.d)(this.$refs.scrollLayer,"transform","translate3d(0, "+s+"px, 0)")}else if(i>0){var l=1+n;this.scaling=!0,e.i(f.d)(this.$refs.bgImage,"transform","translate3d(0, 0, 0) scale("+l+")")}},selectSong:function(t,i){this.selectAndPlay({index:i,list:this.songs})},editSong:function(t,i,e){var a=this,n=t.pageX,s=t.pageY,o=t.offsetX,l=t.offsetY,c=t.target,A=[{desc:"添加到播放列表",operation:function(){a.addSong(i)}},{desc:"添加到我的歌单",operation:function(){a.$emit("addSongToMyDisc",i)}}];this.editable&&A.push({desc:"移除",operation:function(){a.$emit("removeSongFromMyDisc",i)}}),this.$popup.show({x:n-o+c.clientWidth/2,y:s-l+c.clientHeight/2,actions:A})},handlePlaylist:function(t){var i=t.length>0?u.f:0;this.$refs.musiclist.style.bottom=i,this.$refs.scroller.refresh()}})}},658:function(t,i,e){i=t.exports=e(644)(!0),i.push([t.i,".music-list[data-v-acf5b660]{position:fixed;z-index:100;top:0;left:0;bottom:0;right:0;background:#222}.music-list .back[data-v-acf5b660]{position:absolute;top:0;left:3px;z-index:110}.music-list .back .icon-back[data-v-acf5b660]{display:block;padding:2px 10px 10px;color:#ffcd32}.music-list .collect[data-v-acf5b660],.music-list .edit[data-v-acf5b660]{position:absolute;top:0;right:0;z-index:110}.music-list .collect .icon-collect[data-v-acf5b660],.music-list .collect .icon-edit[data-v-acf5b660],.music-list .edit .icon-collect[data-v-acf5b660],.music-list .edit .icon-edit[data-v-acf5b660]{display:block;padding:8px 8px 10px 10px;color:#ffcd32}.music-list .title[data-v-acf5b660]{position:absolute;top:0;left:10%;z-index:110;width:80%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-align:center;line-height:40px;font-size:18px;color:#fff}.music-list .bg-image[data-v-acf5b660]{position:relative;width:100%;height:0;padding-top:70%;background:#222 no-repeat top;transform-origin:top;background-size:cover}.music-list .bg-image.compress[data-v-acf5b660]{padding-top:0;height:40px;z-index:106}.music-list .bg-image.compress .play-wrapper[data-v-acf5b660]{display:none}.music-list .bg-image.scaling[data-v-acf5b660]{z-index:106}.music-list .bg-image .play-wrapper[data-v-acf5b660]{position:absolute;bottom:25px;z-index:2;width:100%}.music-list .bg-image .play-wrapper .play[data-v-acf5b660]{box-sizing:border-box;line-height:1;width:135px;padding:7px 0;margin:0 auto;text-align:center;border:1px solid #ffcd32;color:#ffcd32;border-radius:100px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:0}.music-list .bg-image .play-wrapper .play .icon-play[data-v-acf5b660]{display:inline-block;margin-right:6px}.music-list .bg-image .play-wrapper .play .text[data-v-acf5b660]{font-weight:700;display:inline-block;font-size:12px}.music-list .bg-image .filter[data-v-acf5b660]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:rgba(7,17,27,.25)}.music-list .no-result-wrapper[data-v-acf5b660]{text-align:center}.music-list .scroll-layer[data-v-acf5b660]{position:relative;height:100%;background:#222;z-index:104}.music-list .list[data-v-acf5b660]{position:absolute;top:0;bottom:0;width:100%;z-index:105;background:#222}.music-list .list .song-list-wrapper[data-v-acf5b660]{padding:20px 30px}","",{version:3,sources:["/Users/utopia_one/workspace/vue-music/src/components/base/music-list/music-list.vue"],names:[],mappings:"AACA,6BACE,eAAgB,AAChB,YAAa,AACb,MAAO,AACP,OAAQ,AACR,SAAU,AACV,QAAS,AACT,eAAiB,CAClB,AACD,mCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,WAAa,CACd,AACD,8CACE,cAAe,AACf,sBAA4B,AAC5B,aAAe,CAChB,AACD,yEAEE,kBAAmB,AACnB,MAAO,AACP,QAAS,AACT,WAAa,CACd,AACD,oMAIE,cAAe,AACf,0BAA2B,AAC3B,aAAe,CAChB,AACD,oCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,YAAa,AACb,UAAW,AACX,uBAAwB,AACxB,gBAAiB,AACjB,mBAAoB,AACpB,kBAAmB,AACnB,iBAAkB,AAClB,eAAgB,AAChB,UAAY,CACb,AACD,uCACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,gBAAiB,AACjB,8BAAsC,AACtC,qBAAsB,AACtB,qBAAuB,CACxB,AACD,gDACE,cAAe,AACf,YAAa,AACb,WAAa,CACd,AACD,8DACE,YAAc,CACf,AACD,+CACE,WAAa,CACd,AACD,qDACE,kBAAmB,AACnB,YAAa,AACb,UAAW,AACX,UAAY,CACb,AACD,2DACE,sBAAuB,AACvB,cAAe,AACf,YAAa,AACb,cAAe,AACf,cAAe,AACf,kBAAmB,AACnB,yBAA0B,AAC1B,cAAe,AACf,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,WAAa,CACd,AACD,sEACE,qBAAsB,AACtB,gBAAkB,CACnB,AACD,iEACE,gBAAkB,AAClB,qBAAsB,AACtB,cAAgB,CACjB,AACD,+CACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,UAAW,AACX,4BAAkC,CACnC,AACD,gDACE,iBAAmB,CACpB,AACD,2CACE,kBAAmB,AACnB,YAAa,AACb,gBAAiB,AACjB,WAAa,CACd,AACD,mCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,WAAY,AACZ,YAAa,AACb,eAAiB,CAClB,AACD,sDACE,iBAAmB,CACpB",file:"music-list.vue",sourcesContent:["\n.music-list[data-v-acf5b660] {\n  position: fixed;\n  z-index: 100;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  background: #222;\n}\n.music-list .back[data-v-acf5b660] {\n  position: absolute;\n  top: 0;\n  left: 3px;\n  z-index: 110;\n}\n.music-list .back .icon-back[data-v-acf5b660] {\n  display: block;\n  padding: 2px 10px 10px 10px;\n  color: #ffcd32;\n}\n.music-list .collect[data-v-acf5b660],\n.music-list .edit[data-v-acf5b660] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  z-index: 110;\n}\n.music-list .collect .icon-collect[data-v-acf5b660],\n.music-list .edit .icon-collect[data-v-acf5b660],\n.music-list .collect .icon-edit[data-v-acf5b660],\n.music-list .edit .icon-edit[data-v-acf5b660] {\n  display: block;\n  padding: 8px 8px 10px 10px;\n  color: #ffcd32;\n}\n.music-list .title[data-v-acf5b660] {\n  position: absolute;\n  top: 0;\n  left: 10%;\n  z-index: 110;\n  width: 80%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  text-align: center;\n  line-height: 40px;\n  font-size: 18px;\n  color: #fff;\n}\n.music-list .bg-image[data-v-acf5b660] {\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-top: 70%;\n  background: #222 no-repeat center top;\n  transform-origin: top;\n  background-size: cover;\n}\n.music-list .bg-image.compress[data-v-acf5b660] {\n  padding-top: 0;\n  height: 40px;\n  z-index: 106;\n}\n.music-list .bg-image.compress .play-wrapper[data-v-acf5b660] {\n  display: none;\n}\n.music-list .bg-image.scaling[data-v-acf5b660] {\n  z-index: 106;\n}\n.music-list .bg-image .play-wrapper[data-v-acf5b660] {\n  position: absolute;\n  bottom: 25px;\n  z-index: 2;\n  width: 100%;\n}\n.music-list .bg-image .play-wrapper .play[data-v-acf5b660] {\n  box-sizing: border-box;\n  line-height: 1;\n  width: 135px;\n  padding: 7px 0;\n  margin: 0 auto;\n  text-align: center;\n  border: 1px solid #ffcd32;\n  color: #ffcd32;\n  border-radius: 100px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: center;\n      justify-content: center;\n  -ms-flex-align: center;\n      align-items: center;\n  font-size: 0;\n}\n.music-list .bg-image .play-wrapper .play .icon-play[data-v-acf5b660] {\n  display: inline-block;\n  margin-right: 6px;\n}\n.music-list .bg-image .play-wrapper .play .text[data-v-acf5b660] {\n  font-weight: bold;\n  display: inline-block;\n  font-size: 12px;\n}\n.music-list .bg-image .filter[data-v-acf5b660] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n  background: rgba(7, 17, 27, 0.25);\n}\n.music-list .no-result-wrapper[data-v-acf5b660] {\n  text-align: center;\n}\n.music-list .scroll-layer[data-v-acf5b660] {\n  position: relative;\n  height: 100%;\n  background: #222;\n  z-index: 104;\n}\n.music-list .list[data-v-acf5b660] {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 105;\n  background: #222;\n}\n.music-list .list .song-list-wrapper[data-v-acf5b660] {\n  padding: 20px 30px;\n}\n"],sourceRoot:""}])},659:function(t,i,e){var a=e(658);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(645)("40f9bc7f",a,!0)},660:function(t,i,e){"use strict";var a=e(1);e.n(a).a.register({"angle-left":{width:640,height:1792,paths:[{d:"M627 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z"}]}})},661:function(t,i,e){"use strict";var a=e(1);e.n(a).a.register({"star-o":{width:1664,height:1792,paths:[{d:"M1137 1004l306-297-422-62-189-382-189 382-422 62 306 297-73 421 378-199 377 199zM1664 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 50-41 50-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"}]}})},662:function(t,i,e){"use strict";var a=e(1);e.n(a).a.register({star:{width:1664,height:1792,paths:[{d:"M1664 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z"}]}})},663:function(t,i,e){function a(t){e(659)}var n=e(6)(e(657),e(664),a,"data-v-acf5b660",null);t.exports=n.exports},664:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"musiclist",staticClass:"music-list"},[e("div",{staticClass:"back",on:{click:t.back}},[e("icon",{staticClass:"icon-back",attrs:{name:"angle-left",scale:"2"}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.collectable,expression:"collectable"}],staticClass:"collect",on:{click:t.toggleCollect}},[e("icon",{staticClass:"icon-collect",attrs:{name:t.collectIcon,scale:"1.4"}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],staticClass:"edit",on:{click:t.edit}},[e("icon",{staticClass:"icon-edit",attrs:{name:"ellipsis-h",scale:"1.5"}})],1),t._v(" "),e("h1",{staticClass:"title",domProps:{innerHTML:t._s(t.title)}}),t._v(" "),e("div",{ref:"bgImage",staticClass:"bg-image",class:{compress:t.scrollToTop,scaling:t.scaling},style:t.bgStyle},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.songs.length,expression:"songs.length"}],staticClass:"play-wrapper"},[e("div",{ref:"playBtn",staticClass:"play",on:{click:function(i){t.randomPlay(t.songs)}}},[e("icon",{staticClass:"icon-play",attrs:{name:"play-circle-o",scale:"1.25"}}),t._v(" "),e("span",{staticClass:"text"},[t._v("随机播放全部")])],1)]),t._v(" "),e("div",{ref:"filter",staticClass:"filter"})]),t._v(" "),e("div",{ref:"scrollLayer",staticClass:"scroll-layer"}),t._v(" "),e("scroller",{ref:"scroller",staticClass:"list",attrs:{onScroll:t.onScroll,data:t.songs}},[e("div",{staticClass:"song-list-wrapper"},[e("song-list",{attrs:{songs:t.songs,rank:t.rank,showLoading:!t.editable},on:{selectItem:t.selectSong,edit:t.editSong}})],1),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.editable&&t.songs.length<1,expression:"editable && songs.length < 1"}],staticClass:"no-result-wrapper"},[e("no-result",{attrs:{title:"还没有歌曲，快往歌单里添加歌曲吧~",code:"300"}})],1)])],1)},staticRenderFns:[]}},681:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e(39),n=e.n(a),s=e(38),o=e.n(s),l=e(25),c=e.n(l),A=e(44),r=e(54),d=e(37),p=e(224),g=e(40),u=e(74),f=e(95),m=e(663),C=e.n(m);i.default={name:"top-list",components:{MusicList:C.a},created:function(){var t=this.$route.params.id;t?this._getDiscSongList(t):this.$router.push("/rank")},data:function(){return{songs:[],disc:{}}},computed:c()({},e.i(r.a)(["myDiscList"]),{title:function(){return this.disc.ListName||""},bgImage:function(){return this.songs.length>0?this.songs[0].image:""}}),methods:c()({},e.i(r.c)({addSongToMyDisc:A.y}),{handleAddSong:function(t){var i=this,e=this.myDiscList.map(function(e){return{desc:e.name,operation:function(){i.addSongToMyDisc({disc:e,song:t})}}});this.$actionsheet.show({title:"请选择要加入的歌单",actions:e})},_getDiscSongList:e.i(u.a)(function(){var t=o()(n.a.mark(function t(i){var a;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.i(d.b)(300);case 2:return t.next=4,e.i(p.b)(i);case 4:a=t.sent,a&&a.code===g.a&&(this.disc=a.topinfo,this.songs=this._formatSongs(a.songlist||[]));case 6:case"end":return t.stop()}},t,this)}));return function(i){return t.apply(this,arguments)}}()),_formatSongs:function(t){var i=[];return t.forEach(function(t){t.data.songid&&t.data.albummid&&i.push(f.a.create(t.data))}),i}})}},690:function(t,i,e){i=t.exports=e(644)(!0),i.push([t.i,".slide-enter-active[data-v-77ad6140],.slide-leave-active[data-v-77ad6140]{transition:all .3s}.slide-enter[data-v-77ad6140],.slide-leave-to[data-v-77ad6140]{transform:translate(100%)}","",{version:3,sources:["/Users/utopia_one/workspace/vue-music/src/components/top-list/top-list.vue"],names:[],mappings:"AACA,0EAEE,kBAAoB,CACrB,AACD,+DAEE,yBAA8B,CAC/B",file:"top-list.vue",sourcesContent:["\n.slide-enter-active[data-v-77ad6140],\n.slide-leave-active[data-v-77ad6140] {\n  transition: all .3s;\n}\n.slide-enter[data-v-77ad6140],\n.slide-leave-to[data-v-77ad6140] {\n  transform: translate(100%, 0);\n}\n"],sourceRoot:""}])},701:function(t,i,e){var a=e(690);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);e(645)("193d21d2",a,!0)},719:function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("transition",{attrs:{name:"slide"}},[e("music-list",{attrs:{title:t.title,"bg-image":t.bgImage,songs:t.songs,rank:!0},on:{addSongToMyDisc:t.handleAddSong}})],1)},staticRenderFns:[]}}});
//# sourceMappingURL=1.e1e2d4edde2527c9b8ac.js.map