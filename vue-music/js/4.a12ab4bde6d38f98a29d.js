webpackJsonp([4],{653:function(t,e,n){function i(t){n(699)}var a=n(6)(n(682),n(717),i,"data-v-7188ac60",null);t.exports=a.exports},654:function(t,e,n){"use strict";var i=n(25),a=n.n(i),s=n(54);e.a={computed:a()({},n.i(s.a)(["playlist"])),mounted:function(){this.handlePlaylist(this.playlist)},activated:function(){this.handlePlaylist(this.playlist)},watch:{playlist:function(){this.handlePlaylist(this.playlist)}},methods:{handlePlaylist:function(){throw new Error("Component must implements handlePlaylist method")}}}},655:function(t,e,n){t.exports=n.p+"img/default_disc.5ab5cb8.jpg"},656:function(t,e,n){"use strict";var i=n(1);n.n(i).a.register({"ellipsis-h":{width:1408,height:1792,paths:[{d:"M384 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM896 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM1408 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68z"}]}})},665:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(94),a=n.n(i),s=n(1),o=n.n(s),c=(n(223),n(655));e.default={name:"disc-list",data:function(){return{defaultIcon:c}},props:{discs:{type:Array,default:function(){return[]}},showLoading:{type:Boolean,default:!0},editable:{type:Boolean,default:!1}},components:{Loading:a.a,Icon:o.a},methods:{selectDisc:function(t,e){this.$emit("selectItem",t,e)},edit:function(t,e,n){this.$emit("edit",t,e,n)}}}},666:function(t,e,n){e=t.exports=n(644)(!0),e.push([t.i,'.disc-list .item[data-v-daf7f184]{display:-ms-flexbox;display:flex;box-sizing:border-box;-ms-flex-align:center;align-items:center;padding:0 20px 20px}.disc-list .item .icon[data-v-daf7f184]{-ms-flex:0 0 60px;flex:0 0 60px;width:60px;padding-right:20px}.disc-list .item .text[data-v-daf7f184]{-ms-flex:1;flex:1;line-height:20px;overflow:hidden;font-size:14px}.disc-list .item .text .name[data-v-daf7f184]{margin-bottom:10px;color:#fff}.disc-list .item .text .desc[data-v-daf7f184]{color:hsla(0,0%,100%,.3)}.disc-list .item .edit[data-v-daf7f184]{position:relative;margin-left:20px;color:#fff}.disc-list .item .edit[data-v-daf7f184]:before{content:"";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px}.loading-wrapper[data-v-daf7f184]{margin-top:10px;text-align:center;color:#ffcd32}',"",{version:3,sources:["/Users/utopia_one/workspace/vue-music/src/components/base/disc-list/disc-list.vue"],names:[],mappings:"AACA,kCACE,oBAAqB,AACrB,aAAc,AACd,sBAAuB,AACvB,sBAAuB,AACnB,mBAAoB,AACxB,mBAA0B,CAC3B,AACD,wCACE,kBAAmB,AACf,cAAe,AACnB,WAAY,AACZ,kBAAoB,CACrB,AACD,wCACE,WAAY,AACR,OAAQ,AACZ,iBAAkB,AAClB,gBAAiB,AACjB,cAAgB,CACjB,AACD,8CACE,mBAAoB,AACpB,UAAY,CACb,AACD,8CACE,wBAAgC,CACjC,AACD,wCACE,kBAAmB,AACnB,iBAAkB,AAClB,UAAY,CACb,AACD,+CACE,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,YAAc,CACf,AACD,kCACE,gBAAiB,AACjB,kBAAmB,AACnB,aAAe,CAChB",file:"disc-list.vue",sourcesContent:["\n.disc-list .item[data-v-daf7f184] {\n  display: -ms-flexbox;\n  display: flex;\n  box-sizing: border-box;\n  -ms-flex-align: center;\n      align-items: center;\n  padding: 0 20px 20px 20px;\n}\n.disc-list .item .icon[data-v-daf7f184] {\n  -ms-flex: 0 0 60px;\n      flex: 0 0 60px;\n  width: 60px;\n  padding-right: 20px;\n}\n.disc-list .item .text[data-v-daf7f184] {\n  -ms-flex: 1;\n      flex: 1;\n  line-height: 20px;\n  overflow: hidden;\n  font-size: 14px;\n}\n.disc-list .item .text .name[data-v-daf7f184] {\n  margin-bottom: 10px;\n  color: #fff;\n}\n.disc-list .item .text .desc[data-v-daf7f184] {\n  color: rgba(255, 255, 255, 0.3);\n}\n.disc-list .item .edit[data-v-daf7f184] {\n  position: relative;\n  margin-left: 20px;\n  color: #fff;\n}\n.disc-list .item .edit[data-v-daf7f184]:before {\n  content: '';\n  position: absolute;\n  top: -10px;\n  left: -10px;\n  right: -10px;\n  bottom: -10px;\n}\n.loading-wrapper[data-v-daf7f184] {\n  margin-top: 10px;\n  text-align: center;\n  color: #ffcd32;\n}\n"],sourceRoot:""}])},667:function(t,e,n){var i=n(666);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(645)("9fb3c5a2",i,!0)},668:function(t,e,n){function i(t){n(667)}var a=n(6)(n(665),n(669),i,"data-v-daf7f184",null);t.exports=a.exports},669:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"disc-list"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0==t.discs.length&&t.showLoading,expression:"discs.length == 0 && showLoading"}],staticClass:"loading-wrapper"},[n("loading",{attrs:{scale:1.5}})],1),t._v(" "),n("ul",t._l(t.discs,function(e,i){return n("li",{staticClass:"item",on:{click:function(n){t.selectDisc(e)}}},[n("div",{staticClass:"icon"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.imgurl||t.defaultIcon,expression:"disc.imgurl || defaultIcon"}],attrs:{width:"60",height:"60"}})]),t._v(" "),n("div",{staticClass:"text"},[n("h2",{staticClass:"name",domProps:{innerHTML:t._s(e.creator)}}),t._v(" "),n("p",{staticClass:"desc",domProps:{innerHTML:t._s(e.name)}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.editable,expression:"editable"}],staticClass:"edit",on:{click:function(n){n.stopPropagation(),t.edit(n,e,i)}}},[n("icon",{attrs:{name:"ellipsis-v",scale:"1.25"}})],1)])}))])},staticRenderFns:[]}},682:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(39),a=n.n(i),s=n(38),o=n.n(s),c=n(25),l=n.n(c),r=n(44),d=n(54),A=n(37),f=n(654),p=n(55),h=n(1),v=n.n(h),C=(n(706),n(656),n(56)),u=n.n(C),x=n(219),m=n.n(x),g=n(668),B=n.n(g),b=n(230),y=n.n(b);e.default={name:"user-center",components:{Icon:v.a,Scroller:u.a,SongList:m.a,TabBtn:y.a,DiscList:B.a},mixins:[f.a],data:function(){return{refreshDelay:300,tabList:["最近听的","喜欢的歌","收藏的歌单","我的歌单"],tabIndex:0}},computed:l()({},n.i(d.a)(["playHistory","favorite","collectDiscList","myDiscList"]),{contentData:function(){return 0===this.tabIndex?this.playHistory:1===this.tabIndex?this.favorite:2===this.tabIndex?this.collectDiscList:3===this.tabIndex?this.myDiscList:[]}}),watch:{tabIndex:function(){var t=this;return o()(a.a.mark(function e(){return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.$refs.scroller.scrollTo(0,0),e.next=3,n.i(A.b)(20);case 3:t.$Lazyload.lazyLoadHandler(),t.$refs.scroller.refresh();case 5:case"end":return e.stop()}},e,t)}))()}},methods:l()({},n.i(d.c)({addSong:r.g,selectAndPlay:r.k,randomPlay:r.l,decachePlay:r.m,decacheFavorite:r.d,decacheCollect:r.t,decachePlayAll:r.n,decacheFavoriteAll:r.r,decacheCollectAll:r.u,createMyDisc:r.v,deleteMyDisc:r.w,deleteMyDiscAll:r.x,addSongToMyDisc:r.y,removeSongFromMyDisc:r.z}),{back:function(){this.$router.back()},tabChange:function(t){this.tabIndex=t},selectSong:function(t,e){this.addSong(t)},selectDisc:function(t){this.$router.push("/user/"+t.id)},editPlayHistory:function(t,e,n){this.editSong(t,e,n,"playHistory")},editFavorite:function(t,e,n){this.editSong(t,e,n,"favorite")},editSong:function(t,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"playHistory",s=t.pageX,o=t.pageY,c=t.offsetX,l=t.offsetY,r=t.target;this.$popup.show({x:s-c+r.clientWidth/2,y:o-l+r.clientHeight/2,actions:[{desc:"添加到我的歌单",operation:function(){var t=i.myDiscList.map(function(t){return{desc:t.name,operation:function(){i.addSongToMyDisc({disc:t,song:e})}}});i.$actionsheet.show({title:"请选择要加入的歌单",actions:t})}},{desc:"移除",operation:function(){"playHistory"===a?i.decachePlay(e):"favorite"===a&&i.decacheFavorite(e)}}]})},editCollectDisc:function(t,e,n){this.editDisc(t,e,n,"collect")},editMyDisc:function(t,e,n){this.editDisc(t,e,n,"my")},editDisc:function(t,e,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"collect",s=t.pageX,o=t.pageY,c=t.offsetX,l=t.offsetY,r=t.target;this.$popup.show({x:s-c+r.clientWidth/2,y:o-l+r.clientHeight/2,actions:[{desc:"移除",operation:function(){"collect"===a?i.decacheCollect(e):"my"===a&&i.deleteMyDisc(e)}}]})},action:function(){var t=this,e=[];0===this.tabIndex?e=[{desc:"播放全部",operation:function(){t.selectAndPlay({index:0,list:t.playHistory})}},{desc:"清空",operation:function(){t.$dialog.confirm({title:"确定要清空最近听的歌？",confirm:function(){t.decachePlayAll(),t.$toast.info("已清空")}})}}]:1===this.tabIndex?e=[{desc:"播放全部",operation:function(){t.selectAndPlay({index:0,list:t.favorite})}},{desc:"清空",operation:function(){t.$dialog.confirm({title:"确定要清空喜欢的歌？",confirm:function(){t.decacheFavoriteAll(),t.$toast.info("已清空")}})}}]:2===this.tabIndex?e=[{desc:"清空",operation:function(){t.$dialog.confirm({title:"确定要清空收藏的歌单？",confirm:function(){t.decacheCollectAll(),t.$toast.info("已清空")}})}}]:3===this.tabIndex&&(e=[{desc:"创建歌单",operation:function(){t.$dialog.prompt({title:"创建新歌单",placeholder:"请输入新歌单名称",confirm:function(e){t.createMyDisc(e)}})}},{desc:"清空",operation:function(){t.$dialog.confirm({title:"确定要清空我的歌单？",confirm:function(){t.deleteMyDiscAll(),t.$toast.info("已清空")}})}}]),this.$actionsheet.show({title:"操作",actions:e})},handlePlaylist:function(t){var e=t.length>0?p.f:0;this.$refs.userCenter.style.bottom=e,this.$refs.scroller.refresh()}})}},688:function(t,e,n){e=t.exports=n(644)(!0),e.push([t.i,'.user-center[data-v-7188ac60]{position:fixed;left:0;top:0;bottom:0;right:0;background:#222;color:#fff;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;z-index:10}.header[data-v-7188ac60]{position:relative;width:100%;height:40px;line-height:40px;margin:5px auto;text-align:center;font-size:18px}.header .icon-action[data-v-7188ac60],.header .icon-back[data-v-7188ac60]{position:relative;color:#ffcd32;position:absolute;top:50%;transform:translateY(-50%);line-height:0}.header .icon-action[data-v-7188ac60]:before,.header .icon-back[data-v-7188ac60]:before{content:"";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px}.header .icon-back[data-v-7188ac60]{left:15px}.header .icon-action[data-v-7188ac60]{right:15px}.tab-wrapper[data-v-7188ac60]{padding:5px 20px 20px;font-size:14px}.content-wrapper[data-v-7188ac60]{-ms-flex:1;flex:1;overflow:hidden}.content-wrapper .content[data-v-7188ac60]{height:100%}.song-list[data-v-7188ac60]{padding:0 20px;box-sizing:border-box}.slide-enter-active[data-v-7188ac60],.slide-leave-active[data-v-7188ac60]{transition:all .3s}.slide-enter[data-v-7188ac60],.slide-leave-to[data-v-7188ac60]{transform:translate(100%)}',"",{version:3,sources:["/Users/utopia_one/workspace/vue-music/src/components/user-center/user-center.vue"],names:[],mappings:"AACA,8BACE,eAAgB,AAChB,OAAQ,AACR,MAAO,AACP,SAAU,AACV,QAAS,AACT,gBAAiB,AACjB,WAAY,AACZ,oBAAqB,AACrB,aAAc,AACd,0BAA2B,AACvB,sBAAuB,AAC3B,UAAY,CACb,AACD,yBACE,kBAAmB,AACnB,WAAY,AACZ,YAAa,AACb,iBAAkB,AAClB,gBAAiB,AACjB,kBAAmB,AACnB,cAAgB,CACjB,AACD,0EAEE,kBAAmB,AACnB,cAAe,AACf,kBAAmB,AACnB,QAAS,AACT,2BAA4B,AAC5B,aAAe,CAChB,AACD,wFAEE,WAAY,AACZ,kBAAmB,AACnB,UAAW,AACX,WAAY,AACZ,YAAa,AACb,YAAc,CACf,AACD,oCACE,SAAW,CACZ,AACD,sCACE,UAAY,CACb,AACD,8BACE,sBAAuB,AACvB,cAAgB,CACjB,AACD,kCACE,WAAY,AACR,OAAQ,AACZ,eAAiB,CAClB,AACD,2CACE,WAAa,CACd,AACD,4BACE,eAAgB,AAChB,qBAAuB,CACxB,AACD,0EAEE,kBAAoB,CACrB,AACD,+DAEE,yBAA8B,CAC/B",file:"user-center.vue",sourcesContent:["\n.user-center[data-v-7188ac60] {\n  position: fixed;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  background: #222;\n  color: #fff;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  z-index: 10;\n}\n.header[data-v-7188ac60] {\n  position: relative;\n  width: 100%;\n  height: 40px;\n  line-height: 40px;\n  margin: 5px auto;\n  text-align: center;\n  font-size: 18px;\n}\n.header .icon-back[data-v-7188ac60],\n.header .icon-action[data-v-7188ac60] {\n  position: relative;\n  color: #ffcd32;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  line-height: 0;\n}\n.header .icon-back[data-v-7188ac60]:before,\n.header .icon-action[data-v-7188ac60]:before {\n  content: '';\n  position: absolute;\n  top: -10px;\n  left: -10px;\n  right: -10px;\n  bottom: -10px;\n}\n.header .icon-back[data-v-7188ac60] {\n  left: 15px;\n}\n.header .icon-action[data-v-7188ac60] {\n  right: 15px;\n}\n.tab-wrapper[data-v-7188ac60] {\n  padding: 5px 20px 20px;\n  font-size: 14px;\n}\n.content-wrapper[data-v-7188ac60] {\n  -ms-flex: 1;\n      flex: 1;\n  overflow: hidden;\n}\n.content-wrapper .content[data-v-7188ac60] {\n  height: 100%;\n}\n.song-list[data-v-7188ac60] {\n  padding: 0 20px;\n  box-sizing: border-box;\n}\n.slide-enter-active[data-v-7188ac60],\n.slide-leave-active[data-v-7188ac60] {\n  transition: all .3s;\n}\n.slide-enter[data-v-7188ac60],\n.slide-leave-to[data-v-7188ac60] {\n  transform: translate(100%, 0);\n}\n"],sourceRoot:""}])},699:function(t,e,n){var i=n(688);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);n(645)("78a5b49e",i,!0)},706:function(t,e,n){"use strict";var i=n(1);n.n(i).a.register({"chevron-left":{width:1280,height:1792,paths:[{d:"M1171 301l-531 531 531 531q19 19 19 45t-19 45l-166 166q-19 19-45 19t-45-19l-742-742q-19-19-19-45t19-45l742-742q19-19 45-19t45 19l166 166q19 19 19 45t-19 45z"}]}})},717:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"slide"}},[n("div",{ref:"userCenter",staticClass:"user-center"},[n("div",{staticClass:"header"},[n("div",{staticClass:"icon-back",on:{click:t.back}},[n("icon",{attrs:{name:"chevron-left",scale:"1.25"}})],1),t._v(" "),n("div",{staticClass:"title"},[t._v("\n        用户中心\n      ")]),t._v(" "),n("div",{staticClass:"icon-action",on:{click:t.action}},[n("icon",{attrs:{name:"ellipsis-h",scale:"1.5"}})],1)]),t._v(" "),n("div",{staticClass:"tab-wrapper"},[n("tab-btn",{attrs:{list:t.tabList,index:t.tabIndex},on:{change:t.tabChange}})],1),t._v(" "),n("div",{staticClass:"content-wrapper"},[n("scroller",{ref:"scroller",staticClass:"content",attrs:{refreshDelay:t.refreshDelay,data:t.contentData}},[n("song-list",{directives:[{name:"show",rawName:"v-show",value:0==t.tabIndex,expression:"tabIndex == 0"}],attrs:{songs:t.playHistory,showLoading:!1},on:{selectItem:t.selectSong,edit:t.editPlayHistory}}),t._v(" "),n("song-list",{directives:[{name:"show",rawName:"v-show",value:1==t.tabIndex,expression:"tabIndex == 1"}],attrs:{songs:t.favorite,showLoading:!1},on:{selectItem:t.selectSong,edit:t.editFavorite}}),t._v(" "),n("disc-list",{directives:[{name:"show",rawName:"v-show",value:2==t.tabIndex,expression:"tabIndex == 2"}],attrs:{discs:t.collectDiscList,showLoading:!1,editable:!0},on:{selectItem:t.selectDisc,edit:t.editCollectDisc}}),t._v(" "),n("disc-list",{directives:[{name:"show",rawName:"v-show",value:3==t.tabIndex,expression:"tabIndex == 3"}],attrs:{discs:t.myDiscList,showLoading:!1,editable:!0},on:{selectItem:t.selectDisc,edit:t.editMyDisc}})],1)],1),t._v(" "),n("router-view")],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=4.a12ab4bde6d38f98a29d.js.map