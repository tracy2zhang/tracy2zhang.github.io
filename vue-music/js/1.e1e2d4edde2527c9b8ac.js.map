{"version":3,"sources":["webpack:///js/1.e1e2d4edde2527c9b8ac.js","webpack:///./src/components/top-list/top-list.vue","webpack:///./src/mixins/player-mixin.js?2977","webpack:///./src/assets/images/default_disc.jpg?2312","webpack:///./~/vue-awesome/icons/ellipsis-h.js","webpack:///music-list.vue","webpack:///./src/components/base/music-list/music-list.vue?d732","webpack:///./src/components/base/music-list/music-list.vue?2771","webpack:///./~/vue-awesome/icons/angle-left.js","webpack:///./~/vue-awesome/icons/star-o.js","webpack:///./~/vue-awesome/icons/star.js","webpack:///./src/components/base/music-list/music-list.vue?6c7d","webpack:///./src/components/base/music-list/music-list.vue?1e18","webpack:///top-list.vue","webpack:///./src/components/top-list/top-list.vue?74a6","webpack:///./src/components/top-list/top-list.vue?ebf6","webpack:///./src/components/top-list/top-list.vue?2624"],"names":["webpackJsonp","652","module","exports","__webpack_require__","injectStyle","ssrContext","Component","654","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","n","__WEBPACK_IMPORTED_MODULE_1_vuex__","computed","i","mounted","this","handlePlaylist","playlist","activated","watch","methods","Error","655","p","656","__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__","a","register","ellipsis-h","width","height","paths","d","657","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_2__store_action_types__","__WEBPACK_IMPORTED_MODULE_3_components_base_song_list_song_list__","__WEBPACK_IMPORTED_MODULE_3_components_base_song_list_song_list___default","__WEBPACK_IMPORTED_MODULE_4_components_base_scroller_scroller__","__WEBPACK_IMPORTED_MODULE_4_components_base_scroller_scroller___default","__WEBPACK_IMPORTED_MODULE_5_components_base_no_result_no_result__","__WEBPACK_IMPORTED_MODULE_5_components_base_no_result_no_result___default","__WEBPACK_IMPORTED_MODULE_6__mixins_player_mixin__","__WEBPACK_IMPORTED_MODULE_7_assets_js_config__","__WEBPACK_IMPORTED_MODULE_8_assets_js_util__","__WEBPACK_IMPORTED_MODULE_9_vue_awesome_components_Icon__","__WEBPACK_IMPORTED_MODULE_9_vue_awesome_components_Icon___default","defaultBg","name","components","Icon","SongList","Scroller","NoResult","mixins","props","bgImage","type","String","default","songs","Array","rank","Boolean","title","collectable","collected","editable","created","imageHeight","$refs","clientHeight","scroller","$el","style","top","data","scrollToTop","scaling","bgStyle","backgroundImage","collectIcon","addSong","randomPlay","selectAndPlay","back","$router","toggleCollect","$emit","edit","onScroll","_ref","y","maxScroll","percent","Math","abs","scrollY","blur","min","filter","scrollLayer","scale","selectSong","song","index","list","editSong","event","_this","pageX","pageY","offsetX","offsetY","target","actions","desc","operation","push","$popup","show","x","clientWidth","bottom","length","musiclist","refresh","658","version","sources","names","mappings","file","sourcesContent","sourceRoot","659","content","locals","660","angle-left","661","star-o","662","star","663","664","render","_vm","_h","$createElement","_c","_self","ref","staticClass","on","click","attrs","_v","directives","rawName","expression","domProps","innerHTML","_s","class","compress","$event","showLoading","selectItem","code","staticRenderFns","681","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_3__store_action_types__","__WEBPACK_IMPORTED_MODULE_4_vuex__","__WEBPACK_IMPORTED_MODULE_5_assets_js_util__","__WEBPACK_IMPORTED_MODULE_6_api_rank__","__WEBPACK_IMPORTED_MODULE_7_api_config__","__WEBPACK_IMPORTED_MODULE_8_api_handler__","__WEBPACK_IMPORTED_MODULE_9_assets_js_song__","__WEBPACK_IMPORTED_MODULE_10_components_base_music_list_music_list__","__WEBPACK_IMPORTED_MODULE_10_components_base_music_list_music_list___default","MusicList","id","$route","params","_getDiscSongList","disc","ListName","image","addSongToMyDisc","handleAddSong","myDiscList","map","$actionsheet","mark","_callee","discSongRes","wrap","_context","prev","next","sent","topinfo","_formatSongs","songlist","stop","_x","apply","arguments","formattedSongs","forEach","songid","albummid","create","690","701","719","bg-image"],"mappings":"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","file":"js/1.e1e2d4edde2527c9b8ac.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 652:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(701)\n}\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(681),\n  /* template */\n  __webpack_require__(719),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-77ad6140\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 654:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(54);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* mapGetters */])(['playlist'])),\n  mounted: function mounted() {\n    this.handlePlaylist(this.playlist);\n  },\n  activated: function activated() {\n    this.handlePlaylist(this.playlist);\n  },\n\n  watch: {\n    playlist: function playlist() {\n      this.handlePlaylist(this.playlist);\n    }\n  },\n  methods: {\n    handlePlaylist: function handlePlaylist() {\n      throw new Error('Component must implements handlePlaylist method');\n    }\n  }\n});\n\n/***/ }),\n\n/***/ 655:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"img/default_disc.5ab5cb8.jpg\";\n\n/***/ }),\n\n/***/ 656:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__);\n\n\n__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default.a.register({\"ellipsis-h\":{\"width\":1408,\"height\":1792,\"paths\":[{\"d\":\"M384 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM896 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM1408 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68z\"}]}})\n\n\n/***/ }),\n\n/***/ 657:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__store_action_types__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_components_base_song_list_song_list__ = __webpack_require__(219);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_components_base_song_list_song_list___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_components_base_song_list_song_list__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_components_base_scroller_scroller__ = __webpack_require__(56);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_components_base_scroller_scroller___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_components_base_scroller_scroller__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_components_base_no_result_no_result__ = __webpack_require__(221);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_components_base_no_result_no_result___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_components_base_no_result_no_result__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mixins_player_mixin__ = __webpack_require__(654);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_assets_js_config__ = __webpack_require__(55);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_assets_js_util__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vue_awesome_components_Icon__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_vue_awesome_components_Icon___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_vue_awesome_components_Icon__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_vue_awesome_icons_angle_left__ = __webpack_require__(660);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_vue_awesome_icons_play_circle_o__ = __webpack_require__(220);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_vue_awesome_icons_star__ = __webpack_require__(662);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_vue_awesome_icons_star_o__ = __webpack_require__(661);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_vue_awesome_icons_ellipsis_h__ = __webpack_require__(656);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar defaultBg = __webpack_require__(655);\nvar headerHeight = 40;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'music-list',\n  components: { Icon: __WEBPACK_IMPORTED_MODULE_9_vue_awesome_components_Icon___default.a, SongList: __WEBPACK_IMPORTED_MODULE_3_components_base_song_list_song_list___default.a, Scroller: __WEBPACK_IMPORTED_MODULE_4_components_base_scroller_scroller___default.a, NoResult: __WEBPACK_IMPORTED_MODULE_5_components_base_no_result_no_result___default.a },\n  mixins: [__WEBPACK_IMPORTED_MODULE_6__mixins_player_mixin__[\"a\" /* default */]],\n  props: {\n    bgImage: {\n      type: String,\n      default: ''\n    },\n    songs: {\n      type: Array,\n      default: function _default() {\n        return [];\n      }\n    },\n    rank: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    collectable: {\n      type: Boolean,\n      default: false\n    },\n    collected: {\n      type: Boolean,\n      default: false\n    },\n    editable: {\n      type: Boolean,\n      default: false\n    }\n  },\n  created: function created() {\n    this.imageHeight = 0;\n  },\n  mounted: function mounted() {\n    this.imageHeight = this.$refs.bgImage.clientHeight;\n    this.$refs.scroller.$el.style.top = this.imageHeight + 'px';\n  },\n  data: function data() {\n    return {\n      scrollToTop: false,\n      scaling: false,\n      defaultBg: defaultBg\n    };\n  },\n\n  computed: {\n    bgStyle: function bgStyle() {\n      return {\n        backgroundImage: 'url(' + (this.bgImage || (this.editable ? this.defaultBg : '')) + ')'\n      };\n    },\n    collectIcon: function collectIcon() {\n      return this.collected ? 'star' : 'star-o';\n    }\n  },\n  methods: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"c\" /* mapActions */])({\n    addSong: __WEBPACK_IMPORTED_MODULE_2__store_action_types__[\"g\" /* ADD_SONG_AND_PLAY */],\n    randomPlay: __WEBPACK_IMPORTED_MODULE_2__store_action_types__[\"l\" /* RANDOM_PLAY */],\n    selectAndPlay: __WEBPACK_IMPORTED_MODULE_2__store_action_types__[\"k\" /* SELECT_AND_PLAY */]\n  }), {\n    back: function back() {\n      this.$router.back();\n    },\n    toggleCollect: function toggleCollect() {\n      this.$emit('toggleCollect');\n    },\n    edit: function edit() {\n      this.$emit('edit');\n    },\n    onScroll: function onScroll(_ref) {\n      var y = _ref.y;\n\n      var maxScroll = this.imageHeight - headerHeight;\n      var percent = Math.abs(y / this.imageHeight);\n      if (y <= 0) {\n        this.scaling = false;\n        var scrollY = 0;\n        if (-y >= maxScroll) {\n          scrollY = maxScroll;\n          this.scrollToTop = true;\n        } else {\n          this.scrollToTop = false;\n          scrollY = y;\n        }\n        var blur = Math.min(20 * percent, 20);\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_assets_js_util__[\"d\" /* css */])(this.$refs.filter, 'backdropFilter', 'blur(' + blur + 'px)');\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_assets_js_util__[\"d\" /* css */])(this.$refs.scrollLayer, 'transform', 'translate3d(0, ' + scrollY + 'px, 0)');\n      } else if (y > 0) {\n        var scale = 1 + percent;\n        this.scaling = true;\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_assets_js_util__[\"d\" /* css */])(this.$refs.bgImage, 'transform', 'translate3d(0, 0, 0) scale(' + scale + ')');\n      }\n    },\n    selectSong: function selectSong(song, index) {\n      this.selectAndPlay({\n        index: index, list: this.songs\n      });\n    },\n    editSong: function editSong(event, song, index) {\n      var _this = this;\n\n      var pageX = event.pageX,\n          pageY = event.pageY,\n          offsetX = event.offsetX,\n          offsetY = event.offsetY,\n          target = event.target;\n\n      var actions = [{\n        desc: '添加到播放列表',\n        operation: function operation() {\n          _this.addSong(song);\n        }\n      }, {\n        desc: '添加到我的歌单',\n        operation: function operation() {\n          _this.$emit('addSongToMyDisc', song);\n        }\n      }];\n      if (this.editable) {\n        actions.push({\n          desc: '移除',\n          operation: function operation() {\n            _this.$emit('removeSongFromMyDisc', song);\n          }\n        });\n      }\n      this.$popup.show({\n        x: pageX - offsetX + target.clientWidth / 2,\n        y: pageY - offsetY + target.clientHeight / 2,\n        actions: actions\n      });\n    },\n    handlePlaylist: function handlePlaylist(playlist) {\n      var bottom = playlist.length > 0 ? __WEBPACK_IMPORTED_MODULE_7_assets_js_config__[\"f\" /* miniPlayerHeight */] : 0;\n      this.$refs.musiclist.style.bottom = bottom;\n      this.$refs.scroller.refresh();\n    }\n  })\n});\n\n/***/ }),\n\n/***/ 658:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(644)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".music-list[data-v-acf5b660]{position:fixed;z-index:100;top:0;left:0;bottom:0;right:0;background:#222}.music-list .back[data-v-acf5b660]{position:absolute;top:0;left:3px;z-index:110}.music-list .back .icon-back[data-v-acf5b660]{display:block;padding:2px 10px 10px;color:#ffcd32}.music-list .collect[data-v-acf5b660],.music-list .edit[data-v-acf5b660]{position:absolute;top:0;right:0;z-index:110}.music-list .collect .icon-collect[data-v-acf5b660],.music-list .collect .icon-edit[data-v-acf5b660],.music-list .edit .icon-collect[data-v-acf5b660],.music-list .edit .icon-edit[data-v-acf5b660]{display:block;padding:8px 8px 10px 10px;color:#ffcd32}.music-list .title[data-v-acf5b660]{position:absolute;top:0;left:10%;z-index:110;width:80%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-align:center;line-height:40px;font-size:18px;color:#fff}.music-list .bg-image[data-v-acf5b660]{position:relative;width:100%;height:0;padding-top:70%;background:#222 no-repeat top;transform-origin:top;background-size:cover}.music-list .bg-image.compress[data-v-acf5b660]{padding-top:0;height:40px;z-index:106}.music-list .bg-image.compress .play-wrapper[data-v-acf5b660]{display:none}.music-list .bg-image.scaling[data-v-acf5b660]{z-index:106}.music-list .bg-image .play-wrapper[data-v-acf5b660]{position:absolute;bottom:25px;z-index:2;width:100%}.music-list .bg-image .play-wrapper .play[data-v-acf5b660]{box-sizing:border-box;line-height:1;width:135px;padding:7px 0;margin:0 auto;text-align:center;border:1px solid #ffcd32;color:#ffcd32;border-radius:100px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:0}.music-list .bg-image .play-wrapper .play .icon-play[data-v-acf5b660]{display:inline-block;margin-right:6px}.music-list .bg-image .play-wrapper .play .text[data-v-acf5b660]{font-weight:700;display:inline-block;font-size:12px}.music-list .bg-image .filter[data-v-acf5b660]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:rgba(7,17,27,.25)}.music-list .no-result-wrapper[data-v-acf5b660]{text-align:center}.music-list .scroll-layer[data-v-acf5b660]{position:relative;height:100%;background:#222;z-index:104}.music-list .list[data-v-acf5b660]{position:absolute;top:0;bottom:0;width:100%;z-index:105;background:#222}.music-list .list .song-list-wrapper[data-v-acf5b660]{padding:20px 30px}\", \"\", {\"version\":3,\"sources\":[\"/Users/utopia_one/workspace/vue-music/src/components/base/music-list/music-list.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,eAAgB,AAChB,YAAa,AACb,MAAO,AACP,OAAQ,AACR,SAAU,AACV,QAAS,AACT,eAAiB,CAClB,AACD,mCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,WAAa,CACd,AACD,8CACE,cAAe,AACf,sBAA4B,AAC5B,aAAe,CAChB,AACD,yEAEE,kBAAmB,AACnB,MAAO,AACP,QAAS,AACT,WAAa,CACd,AACD,oMAIE,cAAe,AACf,0BAA2B,AAC3B,aAAe,CAChB,AACD,oCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,YAAa,AACb,UAAW,AACX,uBAAwB,AACxB,gBAAiB,AACjB,mBAAoB,AACpB,kBAAmB,AACnB,iBAAkB,AAClB,eAAgB,AAChB,UAAY,CACb,AACD,uCACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,gBAAiB,AACjB,8BAAsC,AACtC,qBAAsB,AACtB,qBAAuB,CACxB,AACD,gDACE,cAAe,AACf,YAAa,AACb,WAAa,CACd,AACD,8DACE,YAAc,CACf,AACD,+CACE,WAAa,CACd,AACD,qDACE,kBAAmB,AACnB,YAAa,AACb,UAAW,AACX,UAAY,CACb,AACD,2DACE,sBAAuB,AACvB,cAAe,AACf,YAAa,AACb,cAAe,AACf,cAAe,AACf,kBAAmB,AACnB,yBAA0B,AAC1B,cAAe,AACf,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,WAAa,CACd,AACD,sEACE,qBAAsB,AACtB,gBAAkB,CACnB,AACD,iEACE,gBAAkB,AAClB,qBAAsB,AACtB,cAAgB,CACjB,AACD,+CACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,UAAW,AACX,4BAAkC,CACnC,AACD,gDACE,iBAAmB,CACpB,AACD,2CACE,kBAAmB,AACnB,YAAa,AACb,gBAAiB,AACjB,WAAa,CACd,AACD,mCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,WAAY,AACZ,YAAa,AACb,eAAiB,CAClB,AACD,sDACE,iBAAmB,CACpB\",\"file\":\"music-list.vue\",\"sourcesContent\":[\"\\n.music-list[data-v-acf5b660] {\\n  position: fixed;\\n  z-index: 100;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n  background: #222;\\n}\\n.music-list .back[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  left: 3px;\\n  z-index: 110;\\n}\\n.music-list .back .icon-back[data-v-acf5b660] {\\n  display: block;\\n  padding: 2px 10px 10px 10px;\\n  color: #ffcd32;\\n}\\n.music-list .collect[data-v-acf5b660],\\n.music-list .edit[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  z-index: 110;\\n}\\n.music-list .collect .icon-collect[data-v-acf5b660],\\n.music-list .edit .icon-collect[data-v-acf5b660],\\n.music-list .collect .icon-edit[data-v-acf5b660],\\n.music-list .edit .icon-edit[data-v-acf5b660] {\\n  display: block;\\n  padding: 8px 8px 10px 10px;\\n  color: #ffcd32;\\n}\\n.music-list .title[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  left: 10%;\\n  z-index: 110;\\n  width: 80%;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-align: center;\\n  line-height: 40px;\\n  font-size: 18px;\\n  color: #fff;\\n}\\n.music-list .bg-image[data-v-acf5b660] {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-top: 70%;\\n  background: #222 no-repeat center top;\\n  transform-origin: top;\\n  background-size: cover;\\n}\\n.music-list .bg-image.compress[data-v-acf5b660] {\\n  padding-top: 0;\\n  height: 40px;\\n  z-index: 106;\\n}\\n.music-list .bg-image.compress .play-wrapper[data-v-acf5b660] {\\n  display: none;\\n}\\n.music-list .bg-image.scaling[data-v-acf5b660] {\\n  z-index: 106;\\n}\\n.music-list .bg-image .play-wrapper[data-v-acf5b660] {\\n  position: absolute;\\n  bottom: 25px;\\n  z-index: 2;\\n  width: 100%;\\n}\\n.music-list .bg-image .play-wrapper .play[data-v-acf5b660] {\\n  box-sizing: border-box;\\n  line-height: 1;\\n  width: 135px;\\n  padding: 7px 0;\\n  margin: 0 auto;\\n  text-align: center;\\n  border: 1px solid #ffcd32;\\n  color: #ffcd32;\\n  border-radius: 100px;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  font-size: 0;\\n}\\n.music-list .bg-image .play-wrapper .play .icon-play[data-v-acf5b660] {\\n  display: inline-block;\\n  margin-right: 6px;\\n}\\n.music-list .bg-image .play-wrapper .play .text[data-v-acf5b660] {\\n  font-weight: bold;\\n  display: inline-block;\\n  font-size: 12px;\\n}\\n.music-list .bg-image .filter[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1;\\n  background: rgba(7, 17, 27, 0.25);\\n}\\n.music-list .no-result-wrapper[data-v-acf5b660] {\\n  text-align: center;\\n}\\n.music-list .scroll-layer[data-v-acf5b660] {\\n  position: relative;\\n  height: 100%;\\n  background: #222;\\n  z-index: 104;\\n}\\n.music-list .list[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  width: 100%;\\n  z-index: 105;\\n  background: #222;\\n}\\n.music-list .list .song-list-wrapper[data-v-acf5b660] {\\n  padding: 20px 30px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 659:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(658);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(645)(\"40f9bc7f\", content, true);\n\n/***/ }),\n\n/***/ 660:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__);\n\n\n__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default.a.register({\"angle-left\":{\"width\":640,\"height\":1792,\"paths\":[{\"d\":\"M627 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z\"}]}})\n\n\n/***/ }),\n\n/***/ 661:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__);\n\n\n__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default.a.register({\"star-o\":{\"width\":1664,\"height\":1792,\"paths\":[{\"d\":\"M1137 1004l306-297-422-62-189-382-189 382-422 62 306 297-73 421 378-199 377 199zM1664 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 50-41 50-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"}]}})\n\n\n/***/ }),\n\n/***/ 662:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue__);\n\n\n__WEBPACK_IMPORTED_MODULE_0__components_Icon_vue___default.a.register({\"star\":{\"width\":1664,\"height\":1792,\"paths\":[{\"d\":\"M1664 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"}]}})\n\n\n/***/ }),\n\n/***/ 663:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(659)\n}\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(657),\n  /* template */\n  __webpack_require__(664),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-acf5b660\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 664:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"musiclist\",\n    staticClass: \"music-list\"\n  }, [_c('div', {\n    staticClass: \"back\",\n    on: {\n      \"click\": _vm.back\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-back\",\n    attrs: {\n      \"name\": \"angle-left\",\n      \"scale\": \"2\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.collectable),\n      expression: \"collectable\"\n    }],\n    staticClass: \"collect\",\n    on: {\n      \"click\": _vm.toggleCollect\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-collect\",\n    attrs: {\n      \"name\": _vm.collectIcon,\n      \"scale\": \"1.4\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editable),\n      expression: \"editable\"\n    }],\n    staticClass: \"edit\",\n    on: {\n      \"click\": _vm.edit\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-edit\",\n    attrs: {\n      \"name\": \"ellipsis-h\",\n      \"scale\": \"1.5\"\n    }\n  })], 1), _vm._v(\" \"), _c('h1', {\n    staticClass: \"title\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.title)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"bgImage\",\n    staticClass: \"bg-image\",\n    class: {\n      compress: _vm.scrollToTop, scaling: _vm.scaling\n    },\n    style: (_vm.bgStyle)\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.songs.length),\n      expression: \"songs.length\"\n    }],\n    staticClass: \"play-wrapper\"\n  }, [_c('div', {\n    ref: \"playBtn\",\n    staticClass: \"play\",\n    on: {\n      \"click\": function($event) {\n        _vm.randomPlay(_vm.songs)\n      }\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-play\",\n    attrs: {\n      \"name\": \"play-circle-o\",\n      \"scale\": \"1.25\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text\"\n  }, [_vm._v(\"随机播放全部\")])], 1)]), _vm._v(\" \"), _c('div', {\n    ref: \"filter\",\n    staticClass: \"filter\"\n  })]), _vm._v(\" \"), _c('div', {\n    ref: \"scrollLayer\",\n    staticClass: \"scroll-layer\"\n  }), _vm._v(\" \"), _c('scroller', {\n    ref: \"scroller\",\n    staticClass: \"list\",\n    attrs: {\n      \"onScroll\": _vm.onScroll,\n      \"data\": _vm.songs\n    }\n  }, [_c('div', {\n    staticClass: \"song-list-wrapper\"\n  }, [_c('song-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"rank\": _vm.rank,\n      \"showLoading\": !_vm.editable\n    },\n    on: {\n      \"selectItem\": _vm.selectSong,\n      \"edit\": _vm.editSong\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editable && _vm.songs.length < 1),\n      expression: \"editable && songs.length < 1\"\n    }],\n    staticClass: \"no-result-wrapper\"\n  }, [_c('no-result', {\n    attrs: {\n      \"title\": \"还没有歌曲，快往歌单里添加歌曲吧~\",\n      \"code\": \"300\"\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 681:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__store_action_types__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_vuex__ = __webpack_require__(54);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_assets_js_util__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_api_rank__ = __webpack_require__(224);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_api_config__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_api_handler__ = __webpack_require__(74);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_assets_js_song__ = __webpack_require__(95);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_components_base_music_list_music_list__ = __webpack_require__(663);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_components_base_music_list_music_list___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_components_base_music_list_music_list__);\n\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'top-list',\n  components: { MusicList: __WEBPACK_IMPORTED_MODULE_10_components_base_music_list_music_list___default.a },\n  created: function created() {\n    var id = this.$route.params.id;\n\n    if (!id) {\n      this.$router.push('/rank');\n    } else {\n      this._getDiscSongList(id);\n    }\n  },\n  data: function data() {\n    return {\n      songs: [],\n      disc: {}\n    };\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_vuex__[\"a\" /* mapGetters */])(['myDiscList']), {\n    title: function title() {\n      return this.disc.ListName || '';\n    },\n    bgImage: function bgImage() {\n      return this.songs.length > 0 ? this.songs[0].image : '';\n    }\n  }),\n  methods: __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4_vuex__[\"c\" /* mapActions */])({\n    addSongToMyDisc: __WEBPACK_IMPORTED_MODULE_3__store_action_types__[\"y\" /* ADD_SONG_TO_MY_DISC */]\n  }), {\n    handleAddSong: function handleAddSong(song) {\n      var _this = this;\n\n      var actions = this.myDiscList.map(function (disc) {\n        return {\n          desc: disc.name,\n          operation: function operation() {\n            _this.addSongToMyDisc({ disc: disc, song: song });\n          }\n        };\n      });\n      this.$actionsheet.show({ title: '请选择要加入的歌单', actions: actions });\n    },\n\n    /**\n     * 获取歌单的歌曲数据\n     * @param  {Number} dissid 歌单id\n     */\n    _getDiscSongList: __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_8_api_handler__[\"a\" /* catchErrors */])(function () {\n      var _ref = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_asyncToGenerator___default()(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(id) {\n        var discSongRes;\n        return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_assets_js_util__[\"b\" /* timeout */])(300);\n\n              case 2:\n                _context.next = 4;\n                return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_6_api_rank__[\"b\" /* getSongList */])(id);\n\n              case 4:\n                discSongRes = _context.sent;\n\n                if (discSongRes && discSongRes.code === __WEBPACK_IMPORTED_MODULE_7_api_config__[\"a\" /* ERR_OK */]) {\n                  this.disc = discSongRes.topinfo;\n                  this.songs = this._formatSongs(discSongRes.songlist || []);\n                }\n\n              case 6:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()),\n    /**\n     * [格式化歌曲数据]\n     * @param {Array} songs 接口获取的歌曲数据\n     */\n    _formatSongs: function _formatSongs(songs) {\n      var formattedSongs = [];\n      songs.forEach(function (song) {\n        if (song.data.songid && song.data.albummid) {\n          formattedSongs.push(__WEBPACK_IMPORTED_MODULE_9_assets_js_song__[\"a\" /* default */].create(song.data));\n        }\n      });\n      return formattedSongs;\n    }\n  })\n});\n\n/***/ }),\n\n/***/ 690:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(644)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".slide-enter-active[data-v-77ad6140],.slide-leave-active[data-v-77ad6140]{transition:all .3s}.slide-enter[data-v-77ad6140],.slide-leave-to[data-v-77ad6140]{transform:translate(100%)}\", \"\", {\"version\":3,\"sources\":[\"/Users/utopia_one/workspace/vue-music/src/components/top-list/top-list.vue\"],\"names\":[],\"mappings\":\"AACA,0EAEE,kBAAoB,CACrB,AACD,+DAEE,yBAA8B,CAC/B\",\"file\":\"top-list.vue\",\"sourcesContent\":[\"\\n.slide-enter-active[data-v-77ad6140],\\n.slide-leave-active[data-v-77ad6140] {\\n  transition: all .3s;\\n}\\n.slide-enter[data-v-77ad6140],\\n.slide-leave-to[data-v-77ad6140] {\\n  transform: translate(100%, 0);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 701:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(690);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(645)(\"193d21d2\", content, true);\n\n/***/ }),\n\n/***/ 719:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"slide\"\n    }\n  }, [_c('music-list', {\n    attrs: {\n      \"title\": _vm.title,\n      \"bg-image\": _vm.bgImage,\n      \"songs\": _vm.songs,\n      \"rank\": true\n    },\n    on: {\n      \"addSongToMyDisc\": _vm.handleAddSong\n    }\n  })], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/1.e1e2d4edde2527c9b8ac.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77ad6140\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./top-list.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./top-list.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77ad6140\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./top-list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-77ad6140\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/top-list/top-list.vue\n// module id = 652\n// module chunks = 1","import { mapGetters } from 'vuex'\n\nexport default {\n  computed: {\n    ...mapGetters([\n      'playlist'\n    ])\n  },\n  mounted () {\n    this.handlePlaylist(this.playlist)\n  },\n  activated () {\n    this.handlePlaylist(this.playlist)\n  },\n  watch: {\n    playlist () {\n      this.handlePlaylist(this.playlist)\n    }\n  },\n  methods: {\n    handlePlaylist () {\n      throw new Error('Component must implements handlePlaylist method')\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/player-mixin.js","module.exports = __webpack_public_path__ + \"img/default_disc.5ab5cb8.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/default_disc.jpg\n// module id = 655\n// module chunks = 0 1 2 3 4","import Icon from '../components/Icon.vue'\n\nIcon.register({\"ellipsis-h\":{\"width\":1408,\"height\":1792,\"paths\":[{\"d\":\"M384 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM896 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68zM1408 736v192q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h192q40 0 68 28t28 68z\"}]}})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-awesome/icons/ellipsis-h.js\n// module id = 656\n// module chunks = 1 2 3 4","<template lang=\"html\">\n  <div class=\"music-list\" ref=\"musiclist\">\n    <div class=\"back\" @click=\"back\">\n      <icon class=\"icon-back\" name=\"angle-left\" scale=\"2\"></icon>\n    </div>\n    <div class=\"collect\" @click=\"toggleCollect\" v-show=\"collectable\">\n      <icon class=\"icon-collect\" :name=\"collectIcon\" scale=\"1.4\"></icon>\n    </div>\n    <div class=\"edit\" @click=\"edit\" v-show=\"editable\">\n      <icon class=\"icon-edit\" name=\"ellipsis-h\" scale=\"1.5\"></icon>\n    </div>\n    <h1 class=\"title\" v-html=\"title\"></h1>\n    <div class=\"bg-image\" ref=\"bgImage\" :style=\"bgStyle\" :class=\"{ compress: scrollToTop, scaling }\">\n      <div class=\"play-wrapper\" v-show=\"songs.length\">\n        <div class=\"play\" ref=\"playBtn\" @click=\"randomPlay(songs)\">\n          <icon class=\"icon-play\" name=\"play-circle-o\" scale=\"1.25\"></icon>\n          <span class=\"text\">随机播放全部</span>\n        </div>\n      </div>\n      <div class=\"filter\" ref=\"filter\"></div>\n    </div>\n    <div class=\"scroll-layer\" ref=\"scrollLayer\"></div>\n    <scroller :onScroll=\"onScroll\" :data=\"songs\" class=\"list\" ref=\"scroller\">\n      <div class=\"song-list-wrapper\">\n        <song-list\n        :songs=\"songs\"\n        :rank=\"rank\"\n        :showLoading=\"!editable\"\n        @selectItem=\"selectSong\"\n        @edit=\"editSong\"\n        ></song-list>\n      </div>\n      <div class=\"no-result-wrapper\" v-show=\"editable && songs.length < 1\">\n        <no-result title=\"还没有歌曲，快往歌单里添加歌曲吧~\" code=\"300\"></no-result>\n      </div>\n    </scroller>\n  </div>\n</template>\n\n<script>\n  import { mapActions } from 'vuex'\n  import * as atypes from '@/store/action-types'\n  import SongList from 'components/base/song-list/song-list'\n  import Scroller from 'components/base/scroller/scroller'\n  import NoResult from 'components/base/no-result/no-result'\n  import PlayerMixin from '@/mixins/player-mixin'\n  import { miniPlayerHeight } from 'assets/js/config'\n  import { css } from 'assets/js/util'\n  import Icon from 'vue-awesome/components/Icon'\n  import 'vue-awesome/icons/angle-left'\n  import 'vue-awesome/icons/play-circle-o'\n  import 'vue-awesome/icons/star'\n  import 'vue-awesome/icons/star-o'\n  import 'vue-awesome/icons/ellipsis-h'\n\n  const defaultBg = require('assets/images/default_disc.jpg')\n  const headerHeight = 40\n\n  export default {\n    name: 'music-list',\n    components: { Icon, SongList, Scroller, NoResult },\n    mixins: [PlayerMixin],\n    props: {\n      bgImage: {\n        type: String,\n        default: ''\n      },\n      songs: {\n        type: Array,\n        default: () => []\n      },\n      rank: {\n        type: Boolean,\n        default: false\n      },\n      title: {\n        type: String,\n        default: ''\n      },\n      collectable: {\n        type: Boolean,\n        default: false\n      },\n      collected: {\n        type: Boolean,\n        default: false\n      },\n      editable: {\n        type: Boolean,\n        default: false\n      }\n    },\n    created () {\n      this.imageHeight = 0\n    },\n    mounted () {\n      this.imageHeight = this.$refs.bgImage.clientHeight\n      this.$refs.scroller.$el.style.top = `${this.imageHeight}px`\n    },\n    data () {\n      return {\n        scrollToTop: false,\n        scaling: false,\n        defaultBg\n      }\n    },\n    computed: {\n      bgStyle () {\n        return {\n          backgroundImage: `url(${this.bgImage || (this.editable ? this.defaultBg : '')})`\n        }\n      },\n      collectIcon () {\n        return this.collected ? 'star' : 'star-o'\n      }\n    },\n    methods: {\n      ...mapActions({\n        addSong: atypes.ADD_SONG_AND_PLAY,\n        randomPlay: atypes.RANDOM_PLAY,\n        selectAndPlay: atypes.SELECT_AND_PLAY\n      }),\n      back () {\n        this.$router.back()\n      },\n      toggleCollect () {\n        this.$emit('toggleCollect')\n      },\n      edit () {\n        this.$emit('edit')\n      },\n      onScroll ({ y }) {\n        const maxScroll = this.imageHeight - headerHeight\n        const percent = Math.abs(y / this.imageHeight)\n        if (y <= 0) {\n          this.scaling = false\n          let scrollY = 0\n          if (-y >= maxScroll) {\n            scrollY = maxScroll\n            this.scrollToTop = true\n          } else {\n            this.scrollToTop = false\n            scrollY = y\n          }\n          const blur = Math.min(20 * percent, 20)\n          css(this.$refs.filter, 'backdropFilter', `blur(${blur}px)`)\n          css(this.$refs.scrollLayer, 'transform', `translate3d(0, ${scrollY}px, 0)`)\n        } else if (y > 0) {\n          const scale = 1 + percent\n          this.scaling = true\n          css(this.$refs.bgImage, 'transform', `translate3d(0, 0, 0) scale(${scale})`)\n        }\n      },\n      selectSong (song, index) {\n        this.selectAndPlay({\n          index, list: this.songs\n        })\n      },\n      editSong (event, song, index) {\n        const { pageX, pageY, offsetX, offsetY, target } = event\n        const actions = [\n          {\n            desc: '添加到播放列表',\n            operation: () => {\n              this.addSong(song)\n            }\n          },\n          {\n            desc: '添加到我的歌单',\n            operation: () => {\n              this.$emit('addSongToMyDisc', song)\n            }\n          }\n        ]\n        if (this.editable) {\n          actions.push({\n            desc: '移除',\n            operation: () => {\n              this.$emit('removeSongFromMyDisc', song)\n            }\n          })\n        }\n        this.$popup.show({\n          x: pageX - offsetX + target.clientWidth / 2,\n          y: pageY - offsetY + target.clientHeight / 2,\n          actions\n        })\n      },\n      handlePlaylist (playlist) {\n        const bottom = playlist.length > 0 ? miniPlayerHeight : 0\n        this.$refs.musiclist.style.bottom = bottom\n        this.$refs.scroller.refresh()\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"less\">\n  @import \"~assets/less/variable\";\n  @import \"~assets/less/mixin\";\n\n  .music-list {\n    position: fixed;\n    z-index: 100;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    right: 0;\n    background: @color-background;\n\n    .back {\n      position: absolute;\n      top: 0;\n      left: 3px;\n      z-index: 110;\n      .icon-back {\n        display: block;\n        padding: 2px 10px 10px 10px;\n        color: @color-theme;\n      }\n    }\n\n    .collect, .edit {\n      position: absolute;\n      top: 0;\n      right: 0;\n      z-index: 110;\n      .icon-collect, .icon-edit {\n        display: block;\n        padding: 8px 8px 10px 10px;\n        color: @color-theme;\n      }\n    }\n\n    .title {\n      position: absolute;\n      top: 0;\n      left: 10%;\n      z-index: 110;\n      width: 80%;\n      .no-wrap();\n      text-align: center;\n      line-height: 40px;\n      font-size: @font-size-large;\n      color: @color-text;\n    }\n\n    .bg-image {\n      position: relative;\n      width: 100%;\n      height: 0;\n      padding-top: 70%;\n      background: @color-background no-repeat center top;\n      transform-origin: top;\n      background-size: cover;\n      &.compress {\n        padding-top: 0;\n        height: 40px;\n        z-index: 106;\n        .play-wrapper {\n          display: none;\n        }\n      }\n      &.scaling {\n        z-index: 106;\n      }\n      .play-wrapper {\n        position: absolute;\n        bottom: 25px;\n        z-index: 2;\n        width: 100%;\n        .play {\n          box-sizing: border-box;\n          line-height: 1;\n          width: 135px;\n          padding: 7px 0;\n          margin: 0 auto;\n          text-align: center;\n          border: 1px solid @color-theme;\n          color: @color-theme;\n          border-radius: 100px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          font-size: 0;\n          .icon-play {\n            display: inline-block;\n            margin-right: 6px;\n          }\n          .text {\n            font-weight: bold;\n            display: inline-block;\n            font-size: @font-size-small;\n          }\n        }\n      }\n      .filter {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n        background: rgba(7, 17, 27, 0.25);\n      }\n    }\n\n    .no-result-wrapper {\n      text-align: center;\n    }\n\n    .scroll-layer {\n      position: relative;\n      height: 100%;\n      background: @color-background;\n      z-index: 104;\n    }\n\n    .list {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      width: 100%;\n      z-index: 105;\n      background: @color-background;\n      .song-list-wrapper {\n        padding: 20px 30px;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// music-list.vue?227f9e98","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".music-list[data-v-acf5b660]{position:fixed;z-index:100;top:0;left:0;bottom:0;right:0;background:#222}.music-list .back[data-v-acf5b660]{position:absolute;top:0;left:3px;z-index:110}.music-list .back .icon-back[data-v-acf5b660]{display:block;padding:2px 10px 10px;color:#ffcd32}.music-list .collect[data-v-acf5b660],.music-list .edit[data-v-acf5b660]{position:absolute;top:0;right:0;z-index:110}.music-list .collect .icon-collect[data-v-acf5b660],.music-list .collect .icon-edit[data-v-acf5b660],.music-list .edit .icon-collect[data-v-acf5b660],.music-list .edit .icon-edit[data-v-acf5b660]{display:block;padding:8px 8px 10px 10px;color:#ffcd32}.music-list .title[data-v-acf5b660]{position:absolute;top:0;left:10%;z-index:110;width:80%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;text-align:center;line-height:40px;font-size:18px;color:#fff}.music-list .bg-image[data-v-acf5b660]{position:relative;width:100%;height:0;padding-top:70%;background:#222 no-repeat top;transform-origin:top;background-size:cover}.music-list .bg-image.compress[data-v-acf5b660]{padding-top:0;height:40px;z-index:106}.music-list .bg-image.compress .play-wrapper[data-v-acf5b660]{display:none}.music-list .bg-image.scaling[data-v-acf5b660]{z-index:106}.music-list .bg-image .play-wrapper[data-v-acf5b660]{position:absolute;bottom:25px;z-index:2;width:100%}.music-list .bg-image .play-wrapper .play[data-v-acf5b660]{box-sizing:border-box;line-height:1;width:135px;padding:7px 0;margin:0 auto;text-align:center;border:1px solid #ffcd32;color:#ffcd32;border-radius:100px;display:-ms-flexbox;display:flex;-ms-flex-pack:center;justify-content:center;-ms-flex-align:center;align-items:center;font-size:0}.music-list .bg-image .play-wrapper .play .icon-play[data-v-acf5b660]{display:inline-block;margin-right:6px}.music-list .bg-image .play-wrapper .play .text[data-v-acf5b660]{font-weight:700;display:inline-block;font-size:12px}.music-list .bg-image .filter[data-v-acf5b660]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:rgba(7,17,27,.25)}.music-list .no-result-wrapper[data-v-acf5b660]{text-align:center}.music-list .scroll-layer[data-v-acf5b660]{position:relative;height:100%;background:#222;z-index:104}.music-list .list[data-v-acf5b660]{position:absolute;top:0;bottom:0;width:100%;z-index:105;background:#222}.music-list .list .song-list-wrapper[data-v-acf5b660]{padding:20px 30px}\", \"\", {\"version\":3,\"sources\":[\"/Users/utopia_one/workspace/vue-music/src/components/base/music-list/music-list.vue\"],\"names\":[],\"mappings\":\"AACA,6BACE,eAAgB,AAChB,YAAa,AACb,MAAO,AACP,OAAQ,AACR,SAAU,AACV,QAAS,AACT,eAAiB,CAClB,AACD,mCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,WAAa,CACd,AACD,8CACE,cAAe,AACf,sBAA4B,AAC5B,aAAe,CAChB,AACD,yEAEE,kBAAmB,AACnB,MAAO,AACP,QAAS,AACT,WAAa,CACd,AACD,oMAIE,cAAe,AACf,0BAA2B,AAC3B,aAAe,CAChB,AACD,oCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,YAAa,AACb,UAAW,AACX,uBAAwB,AACxB,gBAAiB,AACjB,mBAAoB,AACpB,kBAAmB,AACnB,iBAAkB,AAClB,eAAgB,AAChB,UAAY,CACb,AACD,uCACE,kBAAmB,AACnB,WAAY,AACZ,SAAU,AACV,gBAAiB,AACjB,8BAAsC,AACtC,qBAAsB,AACtB,qBAAuB,CACxB,AACD,gDACE,cAAe,AACf,YAAa,AACb,WAAa,CACd,AACD,8DACE,YAAc,CACf,AACD,+CACE,WAAa,CACd,AACD,qDACE,kBAAmB,AACnB,YAAa,AACb,UAAW,AACX,UAAY,CACb,AACD,2DACE,sBAAuB,AACvB,cAAe,AACf,YAAa,AACb,cAAe,AACf,cAAe,AACf,kBAAmB,AACnB,yBAA0B,AAC1B,cAAe,AACf,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,qBAAsB,AAClB,uBAAwB,AAC5B,sBAAuB,AACnB,mBAAoB,AACxB,WAAa,CACd,AACD,sEACE,qBAAsB,AACtB,gBAAkB,CACnB,AACD,iEACE,gBAAkB,AAClB,qBAAsB,AACtB,cAAgB,CACjB,AACD,+CACE,kBAAmB,AACnB,MAAO,AACP,OAAQ,AACR,WAAY,AACZ,YAAa,AACb,UAAW,AACX,4BAAkC,CACnC,AACD,gDACE,iBAAmB,CACpB,AACD,2CACE,kBAAmB,AACnB,YAAa,AACb,gBAAiB,AACjB,WAAa,CACd,AACD,mCACE,kBAAmB,AACnB,MAAO,AACP,SAAU,AACV,WAAY,AACZ,YAAa,AACb,eAAiB,CAClB,AACD,sDACE,iBAAmB,CACpB\",\"file\":\"music-list.vue\",\"sourcesContent\":[\"\\n.music-list[data-v-acf5b660] {\\n  position: fixed;\\n  z-index: 100;\\n  top: 0;\\n  left: 0;\\n  bottom: 0;\\n  right: 0;\\n  background: #222;\\n}\\n.music-list .back[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  left: 3px;\\n  z-index: 110;\\n}\\n.music-list .back .icon-back[data-v-acf5b660] {\\n  display: block;\\n  padding: 2px 10px 10px 10px;\\n  color: #ffcd32;\\n}\\n.music-list .collect[data-v-acf5b660],\\n.music-list .edit[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  z-index: 110;\\n}\\n.music-list .collect .icon-collect[data-v-acf5b660],\\n.music-list .edit .icon-collect[data-v-acf5b660],\\n.music-list .collect .icon-edit[data-v-acf5b660],\\n.music-list .edit .icon-edit[data-v-acf5b660] {\\n  display: block;\\n  padding: 8px 8px 10px 10px;\\n  color: #ffcd32;\\n}\\n.music-list .title[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  left: 10%;\\n  z-index: 110;\\n  width: 80%;\\n  text-overflow: ellipsis;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-align: center;\\n  line-height: 40px;\\n  font-size: 18px;\\n  color: #fff;\\n}\\n.music-list .bg-image[data-v-acf5b660] {\\n  position: relative;\\n  width: 100%;\\n  height: 0;\\n  padding-top: 70%;\\n  background: #222 no-repeat center top;\\n  transform-origin: top;\\n  background-size: cover;\\n}\\n.music-list .bg-image.compress[data-v-acf5b660] {\\n  padding-top: 0;\\n  height: 40px;\\n  z-index: 106;\\n}\\n.music-list .bg-image.compress .play-wrapper[data-v-acf5b660] {\\n  display: none;\\n}\\n.music-list .bg-image.scaling[data-v-acf5b660] {\\n  z-index: 106;\\n}\\n.music-list .bg-image .play-wrapper[data-v-acf5b660] {\\n  position: absolute;\\n  bottom: 25px;\\n  z-index: 2;\\n  width: 100%;\\n}\\n.music-list .bg-image .play-wrapper .play[data-v-acf5b660] {\\n  box-sizing: border-box;\\n  line-height: 1;\\n  width: 135px;\\n  padding: 7px 0;\\n  margin: 0 auto;\\n  text-align: center;\\n  border: 1px solid #ffcd32;\\n  color: #ffcd32;\\n  border-radius: 100px;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-pack: center;\\n      justify-content: center;\\n  -ms-flex-align: center;\\n      align-items: center;\\n  font-size: 0;\\n}\\n.music-list .bg-image .play-wrapper .play .icon-play[data-v-acf5b660] {\\n  display: inline-block;\\n  margin-right: 6px;\\n}\\n.music-list .bg-image .play-wrapper .play .text[data-v-acf5b660] {\\n  font-weight: bold;\\n  display: inline-block;\\n  font-size: 12px;\\n}\\n.music-list .bg-image .filter[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  z-index: 1;\\n  background: rgba(7, 17, 27, 0.25);\\n}\\n.music-list .no-result-wrapper[data-v-acf5b660] {\\n  text-align: center;\\n}\\n.music-list .scroll-layer[data-v-acf5b660] {\\n  position: relative;\\n  height: 100%;\\n  background: #222;\\n  z-index: 104;\\n}\\n.music-list .list[data-v-acf5b660] {\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  width: 100%;\\n  z-index: 105;\\n  background: #222;\\n}\\n.music-list .list .song-list-wrapper[data-v-acf5b660] {\\n  padding: 20px 30px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-acf5b660\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/base/music-list/music-list.vue\n// module id = 658\n// module chunks = 1 2 3","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-acf5b660\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/less-loader/dist/index.js?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./music-list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"40f9bc7f\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-acf5b660\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/base/music-list/music-list.vue\n// module id = 659\n// module chunks = 1 2 3","import Icon from '../components/Icon.vue'\n\nIcon.register({\"angle-left\":{\"width\":640,\"height\":1792,\"paths\":[{\"d\":\"M627 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z\"}]}})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-awesome/icons/angle-left.js\n// module id = 660\n// module chunks = 1 2 3","import Icon from '../components/Icon.vue'\n\nIcon.register({\"star-o\":{\"width\":1664,\"height\":1792,\"paths\":[{\"d\":\"M1137 1004l306-297-422-62-189-382-189 382-422 62 306 297-73 421 378-199 377 199zM1664 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 50-41 50-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"}]}})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-awesome/icons/star-o.js\n// module id = 661\n// module chunks = 1 2 3","import Icon from '../components/Icon.vue'\n\nIcon.register({\"star\":{\"width\":1664,\"height\":1792,\"paths\":[{\"d\":\"M1664 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"}]}})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-awesome/icons/star.js\n// module id = 662\n// module chunks = 1 2 3","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-acf5b660\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./music-list.vue\")\n}\nvar Component = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./music-list.vue\"),\n  /* template */\n  require(\"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-acf5b660\\\"}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./music-list.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  \"data-v-acf5b660\",\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/base/music-list/music-list.vue\n// module id = 663\n// module chunks = 1 2 3","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    ref: \"musiclist\",\n    staticClass: \"music-list\"\n  }, [_c('div', {\n    staticClass: \"back\",\n    on: {\n      \"click\": _vm.back\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-back\",\n    attrs: {\n      \"name\": \"angle-left\",\n      \"scale\": \"2\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.collectable),\n      expression: \"collectable\"\n    }],\n    staticClass: \"collect\",\n    on: {\n      \"click\": _vm.toggleCollect\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-collect\",\n    attrs: {\n      \"name\": _vm.collectIcon,\n      \"scale\": \"1.4\"\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editable),\n      expression: \"editable\"\n    }],\n    staticClass: \"edit\",\n    on: {\n      \"click\": _vm.edit\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-edit\",\n    attrs: {\n      \"name\": \"ellipsis-h\",\n      \"scale\": \"1.5\"\n    }\n  })], 1), _vm._v(\" \"), _c('h1', {\n    staticClass: \"title\",\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.title)\n    }\n  }), _vm._v(\" \"), _c('div', {\n    ref: \"bgImage\",\n    staticClass: \"bg-image\",\n    class: {\n      compress: _vm.scrollToTop, scaling: _vm.scaling\n    },\n    style: (_vm.bgStyle)\n  }, [_c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.songs.length),\n      expression: \"songs.length\"\n    }],\n    staticClass: \"play-wrapper\"\n  }, [_c('div', {\n    ref: \"playBtn\",\n    staticClass: \"play\",\n    on: {\n      \"click\": function($event) {\n        _vm.randomPlay(_vm.songs)\n      }\n    }\n  }, [_c('icon', {\n    staticClass: \"icon-play\",\n    attrs: {\n      \"name\": \"play-circle-o\",\n      \"scale\": \"1.25\"\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"text\"\n  }, [_vm._v(\"随机播放全部\")])], 1)]), _vm._v(\" \"), _c('div', {\n    ref: \"filter\",\n    staticClass: \"filter\"\n  })]), _vm._v(\" \"), _c('div', {\n    ref: \"scrollLayer\",\n    staticClass: \"scroll-layer\"\n  }), _vm._v(\" \"), _c('scroller', {\n    ref: \"scroller\",\n    staticClass: \"list\",\n    attrs: {\n      \"onScroll\": _vm.onScroll,\n      \"data\": _vm.songs\n    }\n  }, [_c('div', {\n    staticClass: \"song-list-wrapper\"\n  }, [_c('song-list', {\n    attrs: {\n      \"songs\": _vm.songs,\n      \"rank\": _vm.rank,\n      \"showLoading\": !_vm.editable\n    },\n    on: {\n      \"selectItem\": _vm.selectSong,\n      \"edit\": _vm.editSong\n    }\n  })], 1), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.editable && _vm.songs.length < 1),\n      expression: \"editable && songs.length < 1\"\n    }],\n    staticClass: \"no-result-wrapper\"\n  }, [_c('no-result', {\n    attrs: {\n      \"title\": \"还没有歌曲，快往歌单里添加歌曲吧~\",\n      \"code\": \"300\"\n    }\n  })], 1)])], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-acf5b660\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/base/music-list/music-list.vue\n// module id = 664\n// module chunks = 1 2 3","<template lang=\"html\">\n  <transition name=\"slide\">\n    <music-list\n    :title=\"title\"\n    :bg-image=\"bgImage\"\n    :songs=\"songs\"\n    :rank=\"true\"\n    @addSongToMyDisc=\"handleAddSong\"></music-list>\n  </transition>\n</template>\n\n<script>\nimport * as atypes from '@/store/action-types'\nimport { mapGetters, mapActions } from 'vuex'\nimport { timeout } from 'assets/js/util'\nimport { getSongList } from 'api/rank'\nimport { ERR_OK } from 'api/config'\nimport { catchErrors } from 'api/handler'\nimport Song from 'assets/js/song'\n\nimport MusicList from 'components/base/music-list/music-list'\n\nexport default {\n  name: 'top-list',\n  components: { MusicList },\n  created () {\n    const { id } = this.$route.params\n    if (!id) {\n      this.$router.push('/rank')\n    } else {\n      this._getDiscSongList(id)\n    }\n  },\n  data () {\n    return {\n      songs: [],\n      disc: {}\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'myDiscList'\n    ]),\n    title () {\n      return this.disc.ListName || ''\n    },\n    bgImage () {\n      return this.songs.length > 0 ? this.songs[0].image : ''\n    }\n  },\n  methods: {\n    ...mapActions({\n      addSongToMyDisc: atypes.ADD_SONG_TO_MY_DISC\n    }),\n    handleAddSong (song) {\n      const actions = this.myDiscList.map(disc => {\n        return {\n          desc: disc.name,\n          operation: () => {\n            this.addSongToMyDisc({ disc, song })\n          }\n        }\n      })\n      this.$actionsheet.show({ title: '请选择要加入的歌单', actions })\n    },\n    /**\n     * 获取歌单的歌曲数据\n     * @param  {Number} dissid 歌单id\n     */\n    _getDiscSongList: catchErrors(async function (id) {\n      await timeout(300)\n      const discSongRes = await getSongList(id)\n      if (discSongRes && discSongRes.code === ERR_OK) {\n        this.disc = discSongRes.topinfo\n        this.songs = this._formatSongs(discSongRes.songlist || [])\n      }\n    }),\n    /**\n     * [格式化歌曲数据]\n     * @param {Array} songs 接口获取的歌曲数据\n     */\n    _formatSongs (songs) {\n      const formattedSongs = []\n      songs.forEach(song => {\n        if (song.data.songid && song.data.albummid) {\n          formattedSongs.push(Song.create(song.data))\n        }\n      })\n      return formattedSongs\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"less\">\n\n  .slide-enter-active, .slide-leave-active {\n    transition: all .3s;\n  }\n  .slide-enter, .slide-leave-to {\n    transform: translate(100%, 0);\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// top-list.vue?a9ded104","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".slide-enter-active[data-v-77ad6140],.slide-leave-active[data-v-77ad6140]{transition:all .3s}.slide-enter[data-v-77ad6140],.slide-leave-to[data-v-77ad6140]{transform:translate(100%)}\", \"\", {\"version\":3,\"sources\":[\"/Users/utopia_one/workspace/vue-music/src/components/top-list/top-list.vue\"],\"names\":[],\"mappings\":\"AACA,0EAEE,kBAAoB,CACrB,AACD,+DAEE,yBAA8B,CAC/B\",\"file\":\"top-list.vue\",\"sourcesContent\":[\"\\n.slide-enter-active[data-v-77ad6140],\\n.slide-leave-active[data-v-77ad6140] {\\n  transition: all .3s;\\n}\\n.slide-enter[data-v-77ad6140],\\n.slide-leave-to[data-v-77ad6140] {\\n  transform: translate(100%, 0);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-77ad6140\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/top-list/top-list.vue\n// module id = 690\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77ad6140\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/less-loader/dist/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./top-list.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"193d21d2\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-77ad6140\",\"scoped\":true,\"hasInlineConfig\":false}!./~/less-loader/dist?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/top-list/top-list.vue\n// module id = 701\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('transition', {\n    attrs: {\n      \"name\": \"slide\"\n    }\n  }, [_c('music-list', {\n    attrs: {\n      \"title\": _vm.title,\n      \"bg-image\": _vm.bgImage,\n      \"songs\": _vm.songs,\n      \"rank\": true\n    },\n    on: {\n      \"addSongToMyDisc\": _vm.handleAddSong\n    }\n  })], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-77ad6140\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/top-list/top-list.vue\n// module id = 719\n// module chunks = 1"],"sourceRoot":""}